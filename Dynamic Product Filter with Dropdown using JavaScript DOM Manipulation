<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dynamic Product Collection</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;700;800&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: #f8f9fa;
        }
    </style>
</head>
<body class="py-12 px-4">

    <div class="container mx-auto max-w-5xl">
        <!-- Header Section -->
        <header class="mb-10 text-center">
            <h1 class="text-5xl font-extrabold text-gray-800">Our Products</h1>
            <p class="text-gray-500 mt-3 text-lg">Filter our collection by category.</p>
        </header>

        <!-- Filter Controls -->
        <div class="flex justify-center mb-12">
            <div class="w-full max-w-xs">
                <select id="category-filter" class="w-full p-3 border border-gray-300 rounded-lg shadow-sm focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500">
                    <option value="all">All Categories</option>
                    <option value="electronics">Electronics</option>
                    <option value="homegoods">Homegoods</option>
                    <option value="books">Books</option>
                </select>
            </div>
        </div>

        <!-- Product Grid -->
        <main id="product-list" class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-8">
            <!-- Product cards will be dynamically inserted here -->
        </main>
        
        <!-- No results message -->
        <div id="no-results" class="text-center py-16 text-gray-500 text-xl hidden">
            <p>ðŸ˜• No products found in this category.</p>
        </div>
    </div>

    <script>
        // --- Sample Product Data ---
        const products = [
            { id: 1, name: "Laptop Pro", category: "electronics", price: 129999, imageText: "Laptop" },
            { id: 2, name: "The Sci-Fi Novel", category: "books", price: 799, imageText: "Book" },
            { id: 3, name: "Coffee Machine", category: "homegoods", price: 4999, imageText: "Coffee" },
            { id: 4, name: "Wireless Headphones", category: "electronics", price: 8999, imageText: "Headphones" },
            { id: 5, name: "History of the World", category: "books", price: 1499, imageText: "Book" },
            { id: 6, name: "Scented Candle Set", category: "homegoods", price: 1199, imageText: "Candles" },
            { id: 7, "name": "Smart Watch", "category": "electronics", "price": 19999, "imageText": "Watch" },
            { id: 8, name: "Modern Blender", category: "homegoods", price: 3499, imageText: "Blender" },
            { id: 9, name: "The Ultimate Cookbook", category: "books", price: 999, imageText: "Cookbook" },
        ];
        
        // --- Category to Color Mapping ---
        const categoryColors = {
            'electronics': 'bg-blue-500',
            'homegoods': 'bg-gray-700',
            'books': 'bg-red-500',
            'default': 'bg-indigo-500'
        };

        // --- DOM Elements ---
        const productList = document.getElementById('product-list');
        const categoryFilter = document.getElementById('category-filter');
        const noResults = document.getElementById('no-results');

        // --- Functions ---

        /**
         * Renders the products to the DOM based on the new design.
         * @param {Array} productsToRender - The array of product objects to display.
         */
        function renderProducts(productsToRender) {
            productList.innerHTML = ''; 
            
            productsToRender.forEach(product => {
                const colorClass = categoryColors[product.category] || categoryColors.default;

                const productCard = document.createElement('div');
                // Set data-category for filtering
                productCard.dataset.category = product.category;
                productCard.className = 'bg-white rounded-xl shadow-lg overflow-hidden transform hover:-translate-y-2 transition-transform duration-300';

                productCard.innerHTML = `
                    <div class="${colorClass} h-48 flex items-center justify-center">
                        <h2 class="text-white text-4xl font-bold">${product.imageText}</h2>
                    </div>
                    <div class="p-6">
                        <h3 class="text-xl font-bold text-gray-800">${product.name}</h3>
                        <p class="text-sm text-gray-500 capitalize mt-1">${product.category}</p>
                        <p class="text-2xl font-semibold text-indigo-600 mt-4">â‚¹${product.price.toLocaleString('en-IN')}</p>
                    </div>
                `;
                productList.appendChild(productCard);
            });
        }
        
        /**
         * Filters products based on the selected category.
         */
        function filterProducts() {
            const selectedCategory = categoryFilter.value;
            const allProductCards = document.querySelectorAll('[data-category]');
            let hasVisibleProducts = false;

            allProductCards.forEach(card => {
                const cardCategory = card.dataset.category;
                
                if (selectedCategory === 'all' || selectedCategory === cardCategory) {
                    card.style.display = 'block';
                    hasVisibleProducts = true;
                } else {
                    card.style.display = 'none';
                }
            });
            
            noResults.style.display = hasVisibleProducts ? 'none' : 'block';
        }

        // --- Event Listener ---
        categoryFilter.addEventListener('change', filterProducts);

        // --- Initial Load ---
        window.addEventListener('DOMContentLoaded', () => {
            renderProducts(products);
        });

    </script>
</body>
</html>

